abi_maldives_first = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = DGL } 

	DGL_destroy_HTC = {
		icon = mission_end_arakan_piracy
		position = 5
		required_missions = { maldives_mainland_bases } 
		provinces_to_highlight = { province_id = 572 } 

		trigger = {
			572 = { is_core = ROOT } 
			OR = {
				has_won_war_against = {
					who = HTC
					max_years_since = 10
				}
				NOT = { exists = HTC } 
			}
			army_strength = {
				who = HTC
				value = 1.5
			}
			army_size = ORM
			naval_strength = {
				who = HTC
				value = 1.5
			}
			navy_size = ORM
			OR = { prestige = HTC } 
			OR = {
				army_tradition = HTC
				navy_tradition = HTC
				power_projection = 50
			}
		}

		effect = {
			add_prestige = 5
			2999 = { add_permanent_claim = ROOT }
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 10
			}
			ORM = {
				add_prestige = -10
				add_historical_rival = ROOT
			}
			HTC = {
				add_prestige = -20
				add_historical_rival = ROOT
			}
			custom_tooltip = DGL_destroy_HTC.tooltip
			hidden_effect = {
				every_province = {
					limit = { owned_by = HTC } 
					add_core = ROOT
				}
				if = {
					limit = { NOT = { exists = HTC }  } 
					every_province = {
						limit = { is_core = HTC } 
						add_permanent_claim = ROOT
					}
				}
			}
		}
	}

	DGL_end_hormuz = {
		icon = mam_hormuz_straits
		position = 6
		required_missions = { DGL_destroy_HTC } 
		provinces_to_highlight = {
			province_id = 2999
		}

		trigger = {
			2999 = { owned_by = ROOT }
			ORM = {
				NOT = {
					num_of_owned_provinces_with = {
						value = 5
						is_core = ORM
					}
				}
			}
		}

		effect = {
			custom_tooltip = DGL_end_hormuz.tooltip
			hidden_effect = {
				every_province = {
					limit = { is_core = ORM }
					add_core = ROOT
				}
			}
			if = {
				limit = { exists = ORM }
				ORM = {
					add_prestige = -50
					add_splendor = -500
					add_stability = -2
				}
			}
			add_splendor = 100
			country_event = {
				id = abindia_mission.11
				days = 1
			}
			bahrain_area = { add_permanent_claim = ROOT }
			pirate_coast_area = { add_permanent_claim = ROOT }
			mascat_area = { add_permanent_claim = ROOT }
		}
	}

	DGL_develop_mahe = {
		icon = dutch_formosa
		position = 8
		required_missions = { DGL_colonial_ambitions } 
		provinces_to_highlight = {
			OR = {
				province_id = 1100
				province_id = 4020
			}
		}

		trigger = {
			1100 = {
				is_state_core = ROOT
				owned_by = ROOT
				development = 15
				base_production = 5
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				NOT = { unrest = 1 }
				infantry_in_province = 2
			}
			4020 = {
				is_state_core = ROOT
				owned_by = ROOT
				development = 15
				base_production = 5
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				NOT = { unrest = 1 }
				infantry_in_province = 2
			}
		}

		effect = {
			4020 = { add_prosperity = 50 }
			1100 = { add_prosperity = 50 }
			country_event = {
				id = abindia_mission.12
				days = 1
			}
			country_event = {
				id = abindia_mission.13
				days = 1
			}
		}
	}

	DGL_zulu_coastline = {
		icon = mission_kon_greatest_power_kongo
		position = 9
		required_missions = { DGL_develop_mauritius } 
		provinces_to_highlight = {
			OR = {
				province_id = 1183
				area = limpopo_area
			}
		}
	
		trigger = {
			1183 = {
				owned_by = ROOT
				development = 18
				base_production = 6
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				fort_level = 2
			}
			num_of_owned_provinces_with = {
				value = 3
				area = limpopo_area
				has_production_building_trigger = yes
				has_road_building_trigger = yes
				base_production = 5
			}
		}

		effect = {
			add_country_modifier = {
				name = DGL_quest_for_africa
				duration = 18250
			}
			1183 = { change_trade_goods = glass }
			1182 = { change_trade_goods = gems }
			1177 = { add_permanent_claim = ROOT }
			1186 = { add_permanent_claim = ROOT }
			1192 = { add_permanent_claim = ROOT }
		}
	}

	DGL_cape_stronghold = {
		icon = colonize_the_cape
		position = 10
		required_missions = { DGL_zulu_coastline } 
		provinces_to_highlight = {
			province_id = 1177
		}

		trigger = {
			1177 = {
				owned_by = ROOT
				is_state_core = ROOT
				development = 25
				base_production = 8
				base_manpower = 8
				province_has_center_of_trade_of_level = 2
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				has_building = ramparts
				OR = {
					has_building = coastal_defence
					has_building = naval_battery
				}
				fort_level = 2
				infantry_in_province = 10
				artillery_in_province = 4
			}
		}

		effect = {
			1177 = {
				change_province_name = "Cappubhoomi"	# "Cape Land"
				rename_capital = "Swathanthrakotta"		# "Free Fort"
				add_center_of_trade_level = 1
				add_permanent_province_modifier = {
					name = cape_town_pirate_stronghold
					duration = -1
				}
				change_trade_goods = wine
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				change_culture = ROOT
				change_religion = ROOT
			}
			south_africa_region = { add_permanent_claim = ROOT }
		}
	}

	DGL_explore_far_south = {
		icon = mission_invade_island
		position = 11
		required_missions = { DGL_cape_stronghold } 
		provinces_to_highlight = {
			OR = {
				province_id = 1625
				province_id = 1628
				province_id = 1632
			}
		}

		trigger = {
			has_discovered = 1625
			has_discovered = 1628
			has_discovered = 1632
			dip_tech = 11
			1625 = {
				heavy_ships_in_province = 3
				heavy_ships_in_province = ROOT
			}
			1628 = {
				heavy_ships_in_province = 3
				heavy_ships_in_province = ROOT
			}
			1632 = {
				heavy_ships_in_province = 3
				heavy_ships_in_province = ROOT
			}
		}

		effect = {
			custom_tooltip = DGL_explore_far_south.tooltip
			1637 = { change_province_name = "Puthiyakotte and Dangal Islands" }
			hidden_effect = {
				#Events about discovering Marion, Corzet and Amsterdam Islands
				country_event = {
					id = abindia_mission.16
					days = 30
				}
				country_event = { #Marion
					id = abindia_mission.17
					days = 75
				}
				country_event = { #Corzet
					id = abindia_mission.18
					days = 90
				}
			}
		}
	}

	DGL_antarctic_circle = {
		icon = mission_protect_white_sea_trade
		position = 12
		required_missions = { DGL_explore_far_south } 
		provinces_to_highlight = {
			province_id = 1631
		}

		trigger = {
			has_discovered = 1631
			dip_tech = 15
			5317 = { owned_by = ROOT }
			1631 = {
				heavy_ships_in_province = 10
				heavy_ships_in_province = ROOT
			}
		}

		effect = {
			custom_tooltip = DGL_antarctic_circle.tooltip
			hidden_effect = {
				#Events about discovering Kerguelen, Heard and McDonald Islands
				country_event = { #Kerguelen
					id = abindia_mission.19
					days = 60
				}
				country_event = { #H & McD
					id = abindia_mission.20
					days = 120
				}
			}
		}
	}
}
abi_maldives_second = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = DGL } 

	consolidate_southern_mald = {
		icon = mission_claim_the_canaries
		position = 1
		provinces_to_highlight = { province_id = 5275 } 

		trigger = {
			5275 = {
				owned_by = ROOT
				religion = ROOT
				NOT = { unrest = 0.5 } 
				NOT = { local_autonomy = 2.5 } 
			}
		}

		effect = {
			add_dip_power = 20
			add_country_modifier = {
				name = "abi_consolidated_rule"
				duration = 3650
			}
		}
	}

	develop_maldives_islands = {
		icon = mission_claim_the_canaries
		position = 2
		required_missions = { consolidate_southern_mald } 
		provinces_to_highlight = {
			OR = {
				province_id = 5275
				province_id = 1248
			}
		}

		trigger = {
			grown_by_development = 13
			5275 = {
				owned_by = ROOT
				NOT = { local_autonomy_above_min = 1 } 
				num_of_times_improved_by_owner = 6
				OR = {
					has_building = marketplace
					has_building = temple
				}
			}
			1248 = {
				owned_by = ROOT
				NOT = { local_autonomy_above_min = 1 } 
				num_of_times_improved_by_owner = 7
				has_building = marketplace
			}
		}

		effect = {
			1248 = {
				add_building_construction = {
					building = workshop
					speed = 1
					cost = 0
				}
			}
			add_country_modifier = {
				name = "abi_developing_islands"
				duration = 3650
			}
		}
	}

	dominate_coromandel_cape = {
		icon = mission_junk_boat
		position = 3
		required_missions = { develop_maldives_islands } 
		provinces_to_highlight = { province_id = 1340 } 

		trigger = {
			OR = {
				advisor = trader
				dip = 4
			}
			4410 = { has_merchant = PREV } 
			OR = {
				4410 = {
					has_privateer_share_in_trade_node = {
						who = ROOT
						share = 0.2
					}
				}
				4410 = {
					trade_share = {
						country = ROOT
						share = 20
					}
				}
			}
			OR = {
				num_ships_privateering = 22
				AND = {
					light_ship_fraction = 0.6
					navy_size = 35
				}
				num_of_light_ship = 28
			}
		}

		effect = {
			add_mercantilism = 4
			537 = { add_claim = ROOT } 
			4410 = { add_claim = ROOT } 
			5283 = { add_claim = ROOT } 
			4407 = { add_claim = ROOT } 
			572 = { add_claim = ROOT } 
			4408 = { add_claim = ROOT } 
			if = {
				limit = { exists = HTC } 
				add_casus_belli = {
					target = HTC
					type = cb_trade_conflict
					months = 24
				}
				add_casus_belli = {
					target = ORM
					type = cb_trade_conflict
					months = 24
				}
			}
			random_owned_province = {
				limit = { has_port = yes } 
				add_unit_construction = {
					type = heavy_ship
					amount = 2
					speed = 0.75
					cost = 0
				}
			}
		}
	}

	maldives_mainland_bases = {
		icon = mission_secure_hajj_ports
		position = 4
		required_missions = { dominate_coromandel_cape } 
		provinces_to_highlight = {
			OR = {
				region = deccan_region
				region = coromandel_region
			}
			has_port = yes
		}

		trigger = {
			OR = {
				has_won_war_against = {
					who = ORM
					max_years_since = 15
				}
				NOT = { exists = ORM } 
				NOT = { exists = HTC } 
			}
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 5
				OR = {
					region = coromandel_region
					region = deccan_region
				}
				has_port = yes
			}
			num_of_owned_provinces_with = {
				value = 1
				OR = {
					region = coromandel_region
					region = deccan_region
				}
				has_port = yes
				is_core = ROOT
				has_local_modifier_value = {
					which = province_trade_power_value
					value = 8
				}
			}
			if = {
				limit = { exists = ORM } 
				navy_size = ORM
			}
		}

		effect = {
			add_navy_tradition = 10
			if = {
				limit = { exists = ORM } 
				ORM = { add_prestige = -15 } 
			}
			lanka_area = { add_permanent_claim = ROOT } 
			south_lanka_area = { add_permanent_claim = ROOT } 
			custom_tooltip = maldives_mainland_bases.tooltip
			hidden_effect = {
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							region = coromandel_region
							region = deccan_region
						}
						NOT = { fort_level = 2 } 
					}
					if = {
						limit = { NOT = { has_building = dock }  } 
						add_building = dock
					}
					if = {
						limit = { NOT = { has_building = marketplace }  } 
						add_building = marketplace
					}
					add_base_tax = 1
					add_building_construction = {
						building = fort_15th
						speed = 0.5
						cost = 0
					}
				}
			}
		}
	}

	DGL_invade_srilanka = {
		icon = mission_conquer_lanka
		position = 5
		required_missions = { maldives_mainland_bases } 
		provinces_to_highlight = {
			OR = {
				area = lanka_area
				area = south_lanka_area
			}
		}

		trigger = {
			lanka_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			south_lanka_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			5276 = { is_core = ROOT } 
		}

		effect = {
			add_prestige = 10
			madura_area = { add_permanent_claim = ROOT } 
			malabar_area = { add_permanent_claim = ROOT } 
			country_event = {
				id = abindia_mission.2
				days = 1
			}
		}
	}

	palk_strait_toll = {
		icon = mission_integrate_jaffna
		position = 6
		required_missions = { DGL_invade_srilanka } 
		provinces_to_highlight = {
			OR = {
				province_id = 4415
				province_id = 5276
				province_id = 5283
				province_id = 5284
			}
		}

		trigger = {
			5284 = {
				is_core = ROOT
				fort_level = 2
				development = 12
				num_of_buildings_in_province = 3
				num_of_times_improved_by_owner = 3
			}
			5276 = {
				is_core = ROOT
				development = 15
				num_of_buildings_in_province = 3
				province_has_center_of_trade_of_level = 2
				num_of_times_improved_by_owner = 3
			}
			OR = {
				owns_or_non_sovereign_subject_of = 5283
				owns_or_non_sovereign_subject_of = 4415
			}
			4410 = { has_merchant = PREV } 
			OR = {
				4410 = {
					has_privateer_share_in_trade_node = {
						who = ROOT
						share = 0.33
					}
				}
				4410 = {
					trade_share = {
						country = ROOT
						share = 40
					}
				}
			}
		}

		effect = {
			add_years_of_income = 1
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 10
			}
			4416 = { add_permanent_claim = ROOT } 
			540 = { add_permanent_claim = ROOT } 
			2026 = { add_permanent_claim = ROOT } 
			if = {
				limit = { exists = PUL } 
				add_casus_belli = {
					target = PUL
					type = cb_vassalize_mission
					months = 120
				}
			}
			if = {
				limit = { exists = NEL } 
				add_casus_belli = {
					target = NEL
					type = cb_vassalize_mission
					months = 120
				}
			}
			5284 = {
				add_permanent_province_modifier = {
					name = "abi_palk_strait_toll"
					duration = -1
					hidden = no
				}
			}
			5276 = {
				add_permanent_province_modifier = {
					name = "abi_palk_strait_toll"
					duration = -1
					hidden = no
				}
			}
		}
	}

	DGL_colonial_ambitions = {
		icon = mission_explore_the_world
		position = 7
		provinces_to_highlight = {
			OR = {
				area = mascarenes_area
				province_id = 4020
				province_id = 1101
			}
		}

		trigger = {
			has_discovered = 4020
			has_discovered = 1100
			has_discovered = 1102
			has_discovered = 1103
			1101 = {
				is_core = ROOT
				owned_by = ROOT
			}
			num_of_heavy_ship = 3
			exploration_ideas = 1
		}

		effect = { add_dip_power = 25
			1100 = {
				add_permanent_province_modifier = {
					name = DGL_colonize_indian_ocean_rush
					duration = 10950
					hidden = no
				}
			}
			1102 = {
				add_permanent_province_modifier = {
					name = DGL_colonize_indian_ocean_rush
					duration = 10950
					hidden = no
				}
			}
			1103 = {
				add_permanent_province_modifier = {
					name = DGL_colonize_indian_ocean_rush
					duration = 10950
					hidden = no
				}
			}
			4020 = {
				add_permanent_province_modifier = {
					name = DGL_colonize_indian_ocean_rush
					duration = 10950
					hidden = no
				}
			}
		} 
	}

	DGL_develop_mauritius = {
		icon = mission_potosi_silver
		position = 8
		required_missions = { DGL_colonial_ambitions } 
		provinces_to_highlight = {
			OR = {
				province_id = 1102
				province_id = 1103
			}
		}

		trigger = {
			1102 = {
				is_state_core = ROOT
				owned_by = ROOT
				development = 20
				base_production = 7
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				NOT = { unrest = 1 }
				infantry_in_province = 2
			}
			1103 = {
				is_state_core = ROOT
				owned_by = ROOT
				development = 20
				base_production = 7
				has_production_building_trigger = yes
				has_trade_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				OR = {
					has_building = dock
					has_building = drydock
				}
				NOT = { unrest = 1 }
				infantry_in_province = 2
			}
		}
		
		effect = {
			1102 = {
				add_prosperity = 50
				change_province_name = "Dina Arobi"
				rename_capital = "Pakshithuramukham"
			}
			1103 = {
				center_of_trade = 1
				change_province_name = "Dina Morgabin"
				rename_capital = "Puthiya Thuramukham"
			}
			country_event = {
				id = abindia_mission.14
				days = 1
			}
			country_event = {
				id = abindia_mission.15
				days = 1
			}
		}
	}

	DGL_develop_cocos = {
		icon = mission_indian_ocean_supremacy
		position = 9
		required_missions = { DGL_develop_mauritius } 
		provinces_to_highlight = {
			OR = {
				province_id = 1998
				province_id = 1999
				province_id = 2683
				province_id = 2684
			}
		}

		trigger = {
			1998 = {
				owned_by = ROOT
				religion = ROOT
				culture = ROOT
				OR = {
					has_building = dock
					has_building = drydock
				}
				OR = {
					has_building = shipyard
					has_building = grand_shipyard
				}
				has_road_building_trigger = yes
				development = 10
				infantry_in_province = 3
			}
			1999 = {
				owned_by = ROOT
				religion = ROOT
				culture = ROOT
				OR = {
					has_building = dock
					has_building = drydock
				}
				OR = {
					has_building = shipyard
					has_building = grand_shipyard
				}
				has_road_building_trigger = yes
				development = 10
				infantry_in_province = 3
			}
			OR = {
				2683 = {
					owned_by = ROOT
					religion = ROOT
					culture = ROOT	
					has_road_building_trigger = yes
					development = 12
					infantry_in_province = 5
				}
				2684 = {
					owned_by = ROOT
					religion = ROOT
					culture = ROOT	
					has_road_building_trigger = yes
					development = 12
					infantry_in_province = 5
				}
			}
		}

		effect = {
			1998 = {
				change_province_name = "Ramadan Island"
				rename_capital = "Tollanavi"
			}
			1999 = {
				change_province_name = "Sharqin Islands"
				rename_capital = "Sahilsahl"
			}
			624 = { add_permanent_claim = ROOT }
			2686 = { add_permanent_claim = ROOT }
			if = {
				limit = {
					621 = { is_empty = yes }
				}
				621 = {
					add_siberian_construction = 250
				}
			}
			if = {
				limit = {
					621 = { is_empty = no }
				}
				621 = { add_permanent_claim = ROOT }
			}
			add_country_modifier = {
				name = maldives_exploring_east_indonesia
				duration = 7300
			}
			add_country_modifier = {
				name = maldives_indian_ocean_lines_secured
				duration = -1
			}
		}
	}

	DGL_reach_australia = {
		icon = settle_austrialasia
		position = 10
		required_missions = { DGL_develop_cocos } 
		provinces_to_highlight = {
			region = australia_region
		}

		trigger = {
			calc_true_if = {
				all_province = {
					region = australia_region
					has_discovered = ROOT
				}
				amount = 6
			}
		}

		effect = {
			add_country_modifier = {
				name = maldives_colonial_rush
				duration = 5475
			}
			custom_tooltip = DGL_reach_australia.tooltip
			hidden_effect = {
				every_province = {
					limit = {
						region = australia_region
						is_empty = no
					}
					add_permanent_claim = ROOT
				}
			}
			add_country_modifier = {
				name = maldives_quest_for_australia
				duration = 14600
			}
			country_event = {
				id = abindia_mission.21
				days = 1
			}
		}
	}

	DGL_exotic_trade = {
		icon = colonize_australia
		position = 11
		required_missions = { DGL_reach_australia } 
		provinces_to_highlight = {
			region = australia_region
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				region = australia_region
				has_port = yes
				development = 10
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				has_road_building_trigger = yes
				culture = ROOT
				religion = ROOT
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 3
				region = australia_region
				development = 15
				has_manufactory_trigger = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 4
				region = australia_region
				development = 18
				has_trade_building_trigger = yes
				has_production_building_trigger = yes
				province_has_center_of_trade_of_level = 2
			}
			owns_or_non_sovereign_subject_of = 2726
			owns_or_non_sovereign_subject_of = 4865
			owns_or_non_sovereign_subject_of = 4866
			owns_or_non_sovereign_subject_of = 4867
			owns_or_non_sovereign_subject_of = 4846
			owns_or_non_sovereign_subject_of = 2728
			owns_or_non_sovereign_subject_of = 2729
		}

		effect = {
			custom_tooltip = DGL_exotic_trade.tooltip1
			country_event = {
				id = abindia_mission.22
				days = 1
			}
			4865 = {
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
				add_permanent_province_modifier = {
					name = dgl_australian_colonial_port
					duration = -1
				}
			}
			4865 = {
				change_province_name = "Kadal Kavaadam"
				rename_capital = "Chuvannamanal"
			}
			custom_tooltip = DGL_exotic_trade.tooltip2
			hidden_effect = {
				4865 = {
					owner = {
						if = {
							limit = { is_colonial_nation_of = ROOT }
							add_adm_power = 200
							add_dip_power = 200
							add_mil_power = 200
							add_years_of_income = 4
						}
					}
				}
				every_province = {
					limit = {
						region = australia_region
						NOT = { owned_by_subject_of = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	DGL_colonize_australia = {
		icon = mission_lit_harness_steppes
		position = 12
		required_missions = { DGL_exotic_trade } 
		provinces_to_highlight = {
			region = australia_region
			NOT = { owned_by_subject_of = DGL }
		}

		trigger = {
			owns_all_provinces = {
				region = australia_region
			}
		}

		effect = {
			te_waipounamu_area = { add_permanent_claim = ROOT }
			te_ika_a_maui_hauauru_area = { add_permanent_claim = ROOT }
			te_ika_a_maui_waho_area = { add_permanent_claim = ROOT }
			add_splendor = 200
			add_years_of_income = 1
			add_country_modifier = {
				name = dgl_master_of_australia
				duration = -1
			}
			custom_tooltip = DGL_colonize_australia.tooltip
			hidden_effect = {
				australia_region = {
					add_permanent_province_modifier = {
						name = maldives_crown_colony_australia
						duration = -1
					}
				}
			}
		}
	}
}
abi_maldives_third = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = DGL } 

	raid_malabar_coast = {
		icon = mission_combat_barbary_piracy
		position = 6
		provinces_to_highlight = {
			OR = {
				area = malabar_area
				area = kanara_area
			}
			has_port = yes
		}

		trigger = {
			4410 = { has_province_modifier = slaves_raided } 
			537 = { has_province_modifier = slaves_raided } 
			5286 = { has_province_modifier = slaves_raided } 
			535 = { has_province_modifier = slaves_raided } 
			534 = { has_province_modifier = slaves_raided } 
			4413 = { has_province_modifier = slaves_raided } 
			2029 = { has_province_modifier = slaves_raided } 
			5299 = { has_province_modifier = slaves_raided } 
			531 = { has_province_modifier = slaves_raided } 
			4427 = { has_province_modifier = slaves_raided } 
			2030 = { has_province_modifier = slaves_raided } 
			calc_true_if = {
				all_province = {
					has_port = yes
					area = malabar_area
					OR = {
						owned_by = ROOT
						is_looted = yes
						devastation = 10
						is_blockaded_by = ROOT
					}
				}
				amount = 6
			}
			4410 = {
				has_privateer_share_in_trade_node = {
					who = ROOT
					share = 0.2
				}
			}
			5286 = {
				controlled_by = ROOT
				devastation = 15
				is_looted = yes
			}
		}

		effect = {
			add_years_of_income = 1
			add_adm_power = 75
			add_dip_power = 75
			add_mil_power = 75
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 10
			}
			5286 = { add_permanent_claim = ROOT } 
			country_event = {
				id = abindia_mission.3
				days = 1
			}
		}
	}

	DGL_own_western_ports = {
		icon = mission_unite_coromandel
		position = 8
		required_missions = { raid_malabar_coast } 
		provinces_to_highlight = {
			region = deccan_region
			has_port = yes
			NOT = { owned_by = ROOT }
		}

		trigger = {
			owns_or_non_sovereign_subject_of = 5286
			5299 = {
				NOT = { owned_by = HTC }
				NOT = { owned_by = ORM }
			}
			num_of_owned_provinces_with = {
				value = 4
				province_has_center_of_trade_of_level = 1
				region = deccan_region
				has_port = yes
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				region = deccan_region
				has_port = yes
			}
		}
		
		effect = {
			custom_tooltip = DGL_own_western_ports.tooltip1
			if = {
				limit = {
					5279 = { is_empty = yes }
				}
				5279 = { add_siberian_construction = 990 }
			}
			else = {
				5279 = { add_base_manpower = 1 }
			}
			517 = { add_permanent_claim = ROOT }
			4457 = { add_permanent_claim = ROOT }
			2051 = { add_permanent_claim = ROOT }
			4454 = { add_permanent_claim = ROOT }
			5266 = { add_permanent_claim = ROOT }
			if = {
				limit = {
					exists = DAB
					530 = { owned_by = DAB }
				}
				country_event = {
					id = abindia_mission.24
					days = 1
				}
			}
			custom_tooltip = DGL_own_western_ports.tooltip2
			country_event = {
				id = abindia_mission.25
				days = 1
			}
		}
	}

	DGL_raid_gujarat = {
		icon = mission_conquer_gujarat_dlh
		position = 10
		required_missions = { DGL_own_western_ports } 
		provinces_to_highlight = {
			OR = {
				province_id = 517
				province_id = 4457
				province_id = 2051
				province_id = 4454
				province_id = 5266
				province_id = 5243
			}
			NOT = { owned_by = ROOT }
		}

		trigger = {
			OR = {
				has_won_war_against = {
					who = GUJ
					max_years_since = 15
				}
				NOT = { exists = GUJ }
			}
			owns_or_non_sovereign_subject_of = 517
			owns_or_non_sovereign_subject_of = 4457
			owns_or_non_sovereign_subject_of = 2051
			owns_or_non_sovereign_subject_of = 4454
			owns_or_non_sovereign_subject_of = 5266
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				OR = {
					area = saurashtra_area
					area = patan_area
					area = ahmedabad_area
				}
			}
			OR = {
				517 = {
					has_great_project = {
						type = any
						tier = 2
					}
				}
				4457 = {
					trade_share = {
						country = ROOT
						share = 33
					}
				}
			}
		}

		effect = {
			sindh_area = { add_permanent_claim = ROOT }
			custom_tooltip = DGL_raid_gujarat.tooltip1
			hidden_effect = {
				if = {
					limit = {
						4454 = {
							NOT = {
								has_great_project = {
									type = any
									tier = 2
								}
							}
						}
					}
					4454 = {
						add_great_project_tier = {
							type = probandar_port
							tier = 1
						}
					}
				}
				if = {
					limit = {
						517 = {
							NOT = {
								has_great_project = {
									type = any
									tier = 2
								}
							}
						}
					}
					517 = {
						add_great_project_tier = {
							type = navsari_port
							tier = 1
						}
					}
				}
			}
			country_event = {
				id = abindia_mission.26
				days = 1
			}
			custom_tooltip = DGL_raid_gujarat.tooltip2
			add_country_modifier = {
				name = DGL_pirate_raiding_west_india
				duration = 10950
			}
			if = {
				limit = { exists = GUJ }
				GUJ = {
					add_stability = -1
					add_splendor = -200
					add_prestige = -20
				}
			}
		}
	}

	DGL_sack_indus_river = {
		icon = mission_advance_to_the_arabian_sea
		position = 12
		required_missions = { DGL_raid_gujarat } 
		provinces_to_highlight = {
			OR = {
				area = sindh_area
				area = northern_sindh_area
				area = multan_area
				area = lahore_area
				area = sind_sagar_area
			}
		}

		trigger = {
			owns_core_province = 5246
			owns_core_province = 504
			owns_core_province = 5245
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 27
				OR = {
					area = sindh_area
					area = northern_sindh_area
					area = multan_area
					area = lahore_area
					area = sind_sagar_area
				}
				has_production_building_trigger = yes
				has_tax_building_trigger = yes
				has_road_building_trigger = yes
				development = 10
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				OR = {
					area = sindh_area
					area = northern_sindh_area
					area = multan_area
					area = lahore_area
					area = sind_sagar_area
				}
				has_manufactory_trigger = yes
				development = 20
			}
			5246 = { province_has_center_of_trade_of_level = 2 }
			507 = { province_has_center_of_trade_of_level = 2 }
		}

		effect = {
			504 = {
				add_permanent_province_modifier = {
					name = indus_river_breadbasket
					duration = -1
				}
				add_province_modifier = {
					name = dgl_grain_shipments_secured
					duration = -1
				}
			}
			custom_tooltip = DGL_sack_indus_river.tooltip1
			if = {
				limit = {
					504 = { development = 27 }
				}
				center_of_trade = 1
			}
			makran_area = { add_permanent_claim = ROOT }
			custom_tooltip = DGL_sack_indus_river.tooltip2
			hidden_effect = {
				every_province = {
					limit = {
						OR = {
							area = sindh_area
							area = northern_sindh_area
							area = multan_area
							area = lahore_area
							area = sind_sagar_area
						}
						OR = {
							trade_goods = grain
							trade_goods = livestock
						}
					}
					add_permanent_province_modifier = {
						name = indus_river_breadbasket
						duration = -1
					}
				}
			}
		}
	}

	maldives_pirate_empire = {
		icon = mission_arabian_thalassocracy
		position = 13
		required_missions = {
			DGL_colonize_australia
			DGL_dominate_moluccas
			DGL_sack_indus_river
		}
		provinces_to_highlight = {  } 

		trigger = {
			is_great_power = yes
			OR = {
				is_hegemon_of_type = naval_hegemon
				NOT = { great_power_rank = 2 }
				num_of_cities = 250
			}
		}

		effect = {
			override_country_name = FREE_EMPIRE_OF_INDOLEMURIA
			add_splendor = 500
			add_prestige = 50
			add_stability = 3
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 25
			}
			add_country_modifier = {
				name = DGL_pirate_empire
				duration = -1
			}
			add_country_modifier = {
				name = DGL_pirate_marines
				duration = -1
			}
			custom_tooltip = maldives_pirate_empire.tooltip
			add_country_modifier = {
				name = DGL_allow_port_pillaging
				duration = -1
			}
		}
	}
}
abi_maldives_fourth = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = DGL } 

	DGL_prepare_expansion = {
		icon = mission_arabian_ports
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			OR = {
				advisor = navigator
				advisor = naval_reformer
			}
			OR = {
				monthly_adm = 9
				monthly_dip = 9
				dip = 5
			}
			navy_size_percentage = 0.90
			navy_size = 20
			num_of_admirals = 2
			adm_power = 300
			dip_power = 300
		}

		effect = {
			hidden_effect = { kill_leader = { type = admiral }  } 
			custom_tooltip = DGL_prepare_expansion.tooltip
			define_explorer = {
				shock = 1
				fire = 1
				manuever = 2
				siege = 1
			}
			country_event = {
				id = abindia_mission.1
				days = 1
			}
		}
	}

	land_on_hollhavai = {
		icon = mission_invade_island
		position = 2
		required_missions = { DGL_prepare_expansion } 
		provinces_to_highlight = { province_id = 1101 } 

		trigger = {
			1101 = {
				is_core = ROOT
				owned_by = ROOT
				culture = ROOT
				OR = {
					has_building = dock
					base_production = 2
				}
			}
			has_discovered = 1101
			has_discovered = 1620
			has_discovered = 5280
		}

		effect = {
			add_country_modifier = {
				name = "abi_exploring_indian_ocean"
				duration = 7300
			}
			custom_tooltip = land_on_hollhavai.tooltip
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							OR = {
								trade_goods = coffee
								trade_goods = tea
								trade_goods = spices
							}
						}
					}
					change_trade_goods = tea
					add_base_tax = 1
				}
			}
		}
	}

	second_route_to_kilwa = {
		icon = mission_grand_trunk_road_mug
		position = 3
		required_missions = { land_on_hollhavai } 
		provinces_to_highlight = {
			OR = {
				province_id = 1617
				province_id = 1453
				province_id = 1450
				province_id = 1100
				province_id = 1455
				province_id = 1454
				province_id = 1102
				province_id = 1103
				province_id = 1647
				province_id = 1456
				province_id = 4020
				province_id = 4021
				province_id = 4024
				province_id = 4025
				province_id = 4022
				province_id = 1194
			}
		}

		trigger = {
			1201 = {
				owner = {
					OR = {
						has_opinion = {
							who = ROOT
							value = 50
						}
						is_rival = ROOT
					}
				}
			}
			has_discovered = 1617
			has_discovered = 1453
			has_discovered = 1450
			has_discovered = 1100
			has_discovered = 1455
			has_discovered = 1454
			has_discovered = 1102
			has_discovered = 1103
			has_discovered = 1647
			has_discovered = 1456
			has_discovered = 4020
			has_discovered = 4021
			has_discovered = 4024
			has_discovered = 4025
			has_discovered = 4022
			has_discovered = 1194
			OR = {
				1100 = { owned_by = ROOT } 
				1102 = { owned_by = ROOT } 
				1103 = { owned_by = ROOT } 
			}
		}

		effect = {
			4021 = { add_permanent_claim = ROOT } 
			4025 = { add_permanent_claim = ROOT } 
			4020 = { add_permanent_claim = ROOT } 
			1099 = { add_permanent_claim = ROOT } 
			add_country_modifier = {
				name = "abi_new_route_to_zanzibar"
				duration = 7300
			}
			add_mercantilism = 4
			1248 = {
				add_unit_construction = {
					type = light_ship
					amount = 3
					speed = 0.25
					cost = 0
				}
			}
		}
	}

	DGL_madagascar_charter = {
		icon = mission_african_gold
		position = 4
		required_missions = { second_route_to_kilwa } 
		provinces_to_highlight = {
			OR = {
				province_id = 1100
				province_id = 1102
				province_id = 1103
				province_id = 4020
				area = sakalava_area
				area = betsimasaraka_area
				area = southern_madagascar
			}
		}

		trigger = {
			OR = {
				4020 = { is_core = ROOT } 
				1100 = { is_core = ROOT } 
			}
			1102 = { is_core = ROOT } 
			1103 = { is_core = ROOT } 
			num_of_owned_provinces_with = {
				value = 10
				OR = {
					area = sakalava_area
					area = betsimasaraka_area
					area = southern_madagascar
					province_id = 1100
					province_id = 1102
					province_id = 1103
					province_id = 4020
				}
				has_port = yes
				is_core = ROOT
				is_owned_by_trade_company = yes
				OR = {
					has_building = marketplace
					has_building = workshop
					has_building = shipyard
				}
			}
			num_of_owned_provinces_with = {
				value = 1
				OR = {
					area = sakalava_area
					area = betsimasaraka_area
					area = southern_madagascar
				}
				is_core = ROOT
				OR = {
					has_local_modifier_value = {
						which = province_trade_power_value
						value = 10
					}
					province_has_center_of_trade_of_level = 2
				}
			}
		}

		effect = {
			1192 = { add_permanent_claim = ROOT } 
			1186 = { add_permanent_claim = ROOT } 
			1183 = { add_permanent_claim = ROOT } 
			madagascar_highlands_area = { add_permanent_claim = ROOT } 
			random_owned_province = {
				limit = {
					province_has_center_of_trade_of_level = 1
					NOT = { province_has_center_of_trade_of_level = 2 } 
					OR = {
						area = sakalava_area
						area = betsimasaraka_area
						area = southern_madagascar
					}
				}
				add_center_of_trade_level = 1
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			add_years_of_income = 1
		}
	}

	explore_eastern_ocean = {
		icon = mission_look_west
		position = 5
		required_missions = { DGL_madagascar_charter } 
		provinces_to_highlight = {
			OR = {
				province_id = 1998
				province_id = 1999
				province_id = 1638
				province_id = 1645
				province_id = 1632
				province_id = 574
				province_id = 2684
				province_id = 2683
			}
		}

		trigger = {
			has_discovered = 1998
			has_discovered = 1999
			has_discovered = 1638
			has_discovered = 1645
			has_discovered = 1632
			OR = {
				1998 = { is_core = ROOT } 
				1999 = { is_core = ROOT } 
			}
			OR = {
				574 = { owned_by = ROOT } 
				2684 = { owned_by = ROOT } 
				2683 = { owned_by = ROOT } 
			}
			num_of_admirals = 2
			OR = {
				2686 = {
					trade_share = {
						country = ROOT
						share = 10
					}
				}
				2686 = {
					privateer_power = {
						country = ROOT
						share = 10
					}
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = "abi_indian_ocean_colonial_emp"
				duration = 10950
			}
			custom_tooltip = explore_eastern_ocean.tooltip
			hidden_effect = {
				every_province = {
					limit = {
						region = malaya_region
						has_port = yes
						province_has_center_of_trade_of_level = 1
					}
					add_permanent_claim = ROOT
				}
			}
		}
	}

	pirate_sumatran_puppets = {
		icon = mission_conquer_lower_burma_ori
		position = 6
		required_missions = { explore_eastern_ocean } 
		provinces_to_highlight = {
			OR = {
				area = north_sumatra_area
				area = batak_area
				area = minangkabau_area
				area = south_sumatra_area
				area = jambi_area
				area = central_sumatra_area
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 2
				OR = {
					area = north_sumatra_area
					area = batak_area
					area = minangkabau_area
					area = south_sumatra_area
					area = jambi_area
					area = central_sumatra_area
				}
				has_port = yes
				is_core = ROOT
			}
			OR = {
				2686 = {
					has_privateer_share_in_trade_node = {
						who = ROOT
						share = 0.20
					}
				}
				2686 = {
					trade_share = {
						country = ROOT
						share = 20
					}
				}
			}
			calc_true_if = {
				all_country = {
					is_subject_of = ROOT
					capital_scope = {
						OR = {
							area = north_sumatra_area
							area = batak_area
							area = minangkabau_area
							area = south_sumatra_area
							area = jambi_area
							area = central_sumatra_area
						}
					}
				}
				amount = 2
			}
		}

		effect = {
			add_mercantilism = 4
			add_navy_tradition = 10
			add_republican_tradition = 10
			add_country_modifier = {
				name = "abi_sumatran_pirate_puppets"
				duration = -1
			}
			every_province = {
				limit = {
					NOT = { owned_by = ROOT } 
					OR = {
						area = north_sumatra_area
						area = batak_area
						area = minangkabau_area
						area = south_sumatra_area
						area = jambi_area
						area = central_sumatra_area
					}
				}
				add_permanent_claim = ROOT
			}
		}
	}

	DGL_around_bengal_bay = {
		icon = mission_end_arakan_piracy
		position = 7
		required_missions = {
			pirate_sumatran_puppets
			palk_strait_toll
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_sailing_the_delta = {
		icon = mission_unite_bengal
		position = 8
		required_missions = { DGL_around_bengal_bay } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_vassalize_east_india = {
		icon = mission_conquer_andhra_vij
		position = 9
		required_missions = { DGL_sailing_the_delta } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_follow_chola = {
		icon = mission_the_chola_conquests
		position = 10
		required_missions = {
			DGL_vassalize_east_india
			DGL_develop_cocos
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_malacca_piracy = {
		icon = mission_sail_to_the_east_indies
		position = 11
		required_missions = { DGL_follow_chola } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_dominate_moluccas = {
		icon = mission_mnd_maj_cloves
		position = 12
		required_missions = { DGL_malacca_piracy } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
abi_maldives_fifth = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = DGL } 

	sieze_socotra_outpost = {
		icon = mission_portuguese_oman
		position = 5
		required_missions = { DGL_madagascar_charter } 
		provinces_to_highlight = { province_id = 1099 } 

		trigger = {
			1099 = {
				is_core = ROOT
				owned_by = ROOT
				OR = {
					has_building = coastal_defence
					has_building = naval_battery
				}
				OR = {
					has_building = ramparts
					has_building = barracks
				}
				has_building = fort_15th
				NOT = { local_autonomy_above_min = 5 } 
				development = 10
				OR = {
					NOT = { unrest = 0.5 } 
					is_owned_by_trade_company = yes
				}
			}
			OR = {
				388 = {
					has_privateer_share_in_trade_node = {
						who = ROOT
						share = 0.1
					}
				}
				388 = {
					trade_share = {
						country = ROOT
						share = 10
					}
				}
			}
			calc_true_if = {
				all_country = {
					OR = {
						alliance_with = ROOT
						AND = {
							NOT = { monthly_income = ROOT } 
							is_enemy = ROOT
						}
					}
					capital_scope = {
						OR = {
							region = horn_of_africa_region
							region = arabia_region
						}
					}
				}
				amount = 2
			}
		}

		effect = {
			add_country_modifier = {
				name = "abi_influence_in_aden_gulf"
				duration = 3650
			}
			1099 = { center_of_trade = 1 } 
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 10
			}
			custom_tooltip = sieze_socotra_outpost.tooltip
			4283 = {
				add_permanent_claim = ROOT
				if = {
					limit = { owner = { NOT = { total_own_and_non_tributary_subject_development = ROOT }  }  } 
					owner = {
						reverse_add_casus_belli = {
							target = ROOT
							type = cb_vassalize_mission
							months = 120
						}
					}
				}
			}
			388 = {
				add_permanent_claim = ROOT
				if = {
					limit = { owner = { NOT = { total_own_and_non_tributary_subject_development = ROOT }  }  } 
					owner = {
						reverse_add_casus_belli = {
							target = ROOT
							type = cb_vassalize_mission
							months = 120
						}
					}
				}
			}
			1212 = {
				add_permanent_claim = ROOT
				if = {
					limit = { owner = { NOT = { total_own_and_non_tributary_subject_development = ROOT }  }  } 
					owner = {
						reverse_add_casus_belli = {
							target = ROOT
							type = cb_vassalize_mission
							months = 120
						}
					}
				}
			}
			2786 = {
				add_permanent_claim = ROOT
				if = {
					limit = { owner = { NOT = { total_own_and_non_tributary_subject_development = ROOT }  }  } 
					owner = {
						reverse_add_casus_belli = {
							target = ROOT
							type = cb_vassalize_mission
							months = 120
						}
					}
				}
			}
		}
	}

	DGL_land_in_arabia = {
		icon = mission_dominate_trade_in_aden
		position = 6
		required_missions = { sieze_socotra_outpost } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_oman_and_turical_states = {
		icon = qara_qoyunlu_dominate_the_gulf
		position = 7
		required_missions = {
			DGL_land_in_arabia
			DGL_end_hormuz
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_arabian_mission = {
		icon = geo_crade_of_civilization
		position = 8
		required_missions = { DGL_oman_and_turical_states } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_vassalize_burma = {
		icon = mission_conquer_lower_burma_tau
		position = 11
		required_missions = { DGL_follow_chola } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	DGL_indochina_expansion = {
		icon = mission_rule_indochina
		position = 12
		required_missions = { DGL_vassalize_burma } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
